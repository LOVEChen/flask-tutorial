# 009. 使用`url_for`生成链接

工具函数`url_for`可以让你以软编码的形式生成url，提供开发效率。


### 9.1 建立Flask项目
按照以下命令建立Flask项目HelloWorld:
```
mkdir HelloWorld
mkdir HelloWorld/static
mkdir HelloWorld/templates
touch HelloWorld/server.py
```


### 9.2 编写代码
编辑`HelloWorld/server.py`：
```python
from flask import Flask, url_for

app = Flask(__name__)

@app.route('/')
def hello_world():
    pass

@app.route('/user/<name>')
def user(name):
    pass

@app.route('/page/<int:num>')
def page(num):
    pass

@app.route('/test')
def test():
    print(url_for('hello_world'))
    print(url_for('user', name='letian'))
    print(url_for('page', num=1, q='hadoop mapreduce 10%3'))
    print(url_for('static', filename='uploads/01.jpg'))
    return 'Hello'

if __name__ == '__main__':
    app.run(debug=True)
```
运行`HelloWorld/server.py`。然后在浏览器中访问`http://127.0.0.1:5000/test`，`HelloWorld/server.py`将输出以下信息：
```
/
/user/letian
/page/1?q=hadoop+mapreduce+10%253
/static/uploads/01.jpg
```


### 9.3 本节源码
https://github.com/letiantian/flask-tutorial/tree/master/demo/flask-demo-007


<!-- flask-tutorial-info -->


---

* 上一篇 [008. Restful URL](008.%20Restful%20URL.md)
* 下一篇 [010. 使用redirect重定向网址](010.%20%E4%BD%BF%E7%94%A8redirect%E9%87%8D%E5%AE%9A%E5%90%91%E7%BD%91%E5%9D%80.md)

> 本教程讲述如何使用 Python Flask Web 框架，如有错误/建议，欢迎交流。

